(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{378:function(t,n,a){"use strict";a.r(n);var e=a(42),s=Object(e.a)({},(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"git-删除历史-commit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-删除历史-commit"}},[t._v("#")]),t._v(" git 删除历史 commit")]),t._v(" "),a("blockquote",[a("p",[t._v("因为平时的技术点笔记都总结在了 github 上面，随着知识点的累积，代码体积也越来越大。最近在整理笔记，重新 clone 了这个工程，等了很久才克隆到本地。于是打算通过删除历史 commit，尝试减轻一些代码体积。（也就是说只保留当前版本，不可能再回滚）")])]),t._v(" "),a("blockquote",[a("p",[t._v("操作方法：首先创建一个新分支 newBranch，然后将 master 分支删除，再将当前分支 newBranch 重命名为 master，再强制 push 到远程仓库即可。")])]),t._v(" "),a("p",[t._v("具体操作流程如下：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('一、创建新分支：\ngit checkout --orphan newBranch\n二、添加所有文件：\ngit add -A\n三、提交更改：\ngit commit -am "message"\n四、删除主分支：\ngit branch -D master\n五、重命名当前分支：\ngit branch -m master\n六、强制提交：\ngit push -f origin master\n以上即为git删除历史commit的实践方案。\n')])])])])}),[],!1,null,null,null);n.default=s.exports}}]);